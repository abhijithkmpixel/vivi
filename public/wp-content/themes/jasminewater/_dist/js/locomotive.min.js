!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):(a="undefined"==typeof globalThis?a||self:globalThis).LocomotiveScroll=b()}(this,function(){"use strict";var z=Math.abs,I=Math.max;function P(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function R(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function t(a,b,c){return b&&R(a.prototype,b),c&&R(a,c),a}function X(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function s(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function i(a){for(var b,c=1;c<arguments.length;c++)b=null==arguments[c]?{}:arguments[c],c%2?s(Object(b),!0).forEach(function(c){X(a,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):s(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}function o(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&n(a,b)}function r(a){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function n(a,b){return(n=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function Y(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function c(a,b){return b&&("object"==typeof b||"function"==typeof b)?b:Y(a)}function h(a){var b=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(a){return!1}}();return function(){var d,e=r(a);if(b){var f=r(this).constructor;d=Reflect.construct(e,arguments,f)}else d=e.apply(this,arguments);return c(this,d)}}function d(a,b,c){return(d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(a,b,c){var d=function(a,b){for(;!Object.prototype.hasOwnProperty.call(a,b)&&null!==(a=r(a)););return a}(a,b);if(d){var e=Object.getOwnPropertyDescriptor(d,b);return e.get?e.get.call(c):e.value}})(a,b,c||a)}function aa(a,b){return function(a){if(Array.isArray(a))return a}(a)||function(a,b){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(a)){var c,d=[],e=!0,f=!1;try{for(var g,h=a[Symbol.iterator]();!(e=(g=h.next()).done)&&(d.push(g.value),!b||d.length!==b);e=!0);}catch(a){f=!0,c=a}finally{try{e||null==h.return||h.return()}finally{if(f)throw c}}return d}}(a,b)||p(a,b)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(a){return function(a){if(Array.isArray(a))return m(a)}(a)||function(a){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(a))return Array.from(a)}(a)||p(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(a,b){if(a){if("string"==typeof a)return m(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);return"Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c?Array.from(a):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?m(a,b):void 0}}function m(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function e(a,b){return a(b={exports:{}},b.exports),b.exports}function v(a){if(null==a)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(a)}function w(){}function A(a,b){return function(){return a.apply(b,arguments)}}function B(a){!function(a){if(!a)return console.warn("bindAll requires at least one argument.");var b=Array.prototype.slice.call(arguments,1);if(0===b.length)for(var c in a)j.call(a,c)&&"function"==typeof a[c]&&"[object Function]"==M.call(a[c])&&b.push(c);for(var d,e=0;e<b.length;e++)d=b[e],a[d]=A(a[d],a)}(this,"_onWheel","_onMouseWheel","_onTouchStart","_onTouchMove","_onKeyDown"),this.el=window,a&&a.el&&(this.el=a.el,delete a.el),this.options=E({mouseMultiplier:1,touchMultiplier:2,firefoxMultiplier:15,keyStep:120,preventTouch:!1,unpreventTouchClass:"vs-touchmove-allowed",limitInertia:!1,useKeyboard:!0,useTouch:!0},a),this.options.limitInertia&&(this._lethargy=new $),this._emitter=new O,this._event={y:0,x:0,deltaX:0,deltaY:0},this.touchStartX=null,this.touchStartY=null,this.bodyTouchAction=null,void 0!==this.options.passive&&(this.listenerOptions={passive:this.options.passive})}function D(a,b,c){return(1-c)*a+c*b}function F(a){var b={};if(window.getComputedStyle){var c=getComputedStyle(a),d=c.transform||c.webkitTransform||c.mozTransform,e=d.match(/^matrix3d\((.+)\)$/);return e?(b.x=e?parseFloat(e[1].split(", ")[12]):0,b.y=e?parseFloat(e[1].split(", ")[13]):0):(e=d.match(/^matrix\((.+)\)$/),b.x=e?parseFloat(e[1].split(", ")[4]):0,b.y=e?parseFloat(e[1].split(", ")[5]):0),b}}function q(a){for(var b=[];a&&a!==document;a=a.parentNode)b.push(a);return b}function K(a,b){return 1-3*b+3*a}function U(a,b){return 3*b-6*a}function V(a){return 3*a}function G(a,b,c){return((K(b,c)*a+U(b,c))*a+V(b))*a}function J(a,b,c){return 3*K(b,c)*a*a+2*U(b,c)*a+V(b)}function Q(a){return a}var Z={el:document,name:"scroll",offset:[0,0],repeat:!1,smooth:!1,initPosition:{x:0,y:0},direction:"vertical",gestureDirection:"vertical",reloadOnContextChange:!1,lerp:.1,class:"is-inview",scrollbarContainer:!1,scrollbarClass:"c-scrollbar",scrollingClass:"has-scroll-scrolling",draggingClass:"has-scroll-dragging",smoothClass:"has-scroll-smooth",initClass:"has-scroll-init",getSpeed:!1,getDirection:!1,scrollFromAnywhere:!1,multiplier:1,firefoxMultiplier:50,touchMultiplier:2,resetNativeScroll:!0,tablet:{smooth:!1,direction:"vertical",gestureDirection:"vertical",breakpoint:1024},smartphone:{smooth:!1,direction:"vertical",gestureDirection:"vertical"}},y=function(){function a(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};P(this,a),Object.assign(this,Z,b),this.smartphone=Z.smartphone,b.smartphone&&Object.assign(this.smartphone,b.smartphone),this.tablet=Z.tablet,b.tablet&&Object.assign(this.tablet,b.tablet),this.namespace="locomotive",this.html=document.documentElement,this.windowHeight=window.innerHeight,this.windowWidth=window.innerWidth,this.windowMiddle={x:this.windowWidth/2,y:this.windowHeight/2},this.els={},this.currentElements={},this.listeners={},this.hasScrollTicking=!1,this.hasCallEventSet=!1,this.checkScroll=this.checkScroll.bind(this),this.checkResize=this.checkResize.bind(this),this.checkEvent=this.checkEvent.bind(this),this.instance={scroll:{x:0,y:0},limit:{x:this.html.offsetWidth,y:this.html.offsetHeight},currentElements:this.currentElements},this.context=this.isMobile?this.isTablet?"tablet":"smartphone":"desktop",this.isMobile&&(this.direction=this[this.context].direction),this.directionAxis="horizontal"===this.direction?"x":"y",this.getDirection&&(this.instance.direction=null),this.getDirection&&(this.instance.speed=0),this.html.classList.add(this.initClass),window.addEventListener("resize",this.checkResize,!1)}return t(a,[{key:"init",value:function(){this.initEvents()}},{key:"checkScroll",value:function(){this.dispatchScroll()}},{key:"checkResize",value:function(){var a=this;this.resizeTick||(this.resizeTick=!0,requestAnimationFrame(function(){a.resize(),a.resizeTick=!1}))}},{key:"resize",value:function(){}},{key:"checkContext",value:function(){if(this.reloadOnContextChange){this.isMobile=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"MacIntel"===navigator.platform&&1<navigator.maxTouchPoints||this.windowWidth<this.tablet.breakpoint,this.isTablet=this.isMobile&&this.windowWidth>=this.tablet.breakpoint;var a=this.context;(this.context=this.isMobile?this.isTablet?"tablet":"smartphone":"desktop",a!=this.context)&&("desktop"==a?this.smooth:this[a].smooth)!=("desktop"==this.context?this.smooth:this[this.context].smooth)&&window.location.reload()}}},{key:"initEvents",value:function(){var a=this;this.scrollToEls=this.el.querySelectorAll("[data-".concat(this.name,"-to]")),this.setScrollTo=this.setScrollTo.bind(this),this.scrollToEls.forEach(function(b){b.addEventListener("click",a.setScrollTo,!1)})}},{key:"setScrollTo",value:function(a){a.preventDefault(),this.scrollTo(a.currentTarget.getAttribute("data-".concat(this.name,"-href"))||a.currentTarget.getAttribute("href"),{offset:a.currentTarget.getAttribute("data-".concat(this.name,"-offset"))})}},{key:"addElements",value:function(){}},{key:"detectElements",value:function(b){var f=this,e=this.instance.scroll.y,g=e+this.windowHeight,i=this.instance.scroll.x,j=i+this.windowWidth;Object.entries(this.els).forEach(function(k){var m=aa(k,2),l=m[0],a=m[1];if(!a||a.inView&&!b||("horizontal"===f.direction?j>=a.left&&i<a.right&&f.setInView(a,l):g>=a.top&&e<a.bottom&&f.setInView(a,l)),a&&a.inView)if("horizontal"===f.direction){var c=a.right-a.left;a.progress=(f.instance.scroll.x-(a.left-f.windowWidth))/(c+f.windowWidth),(j<a.left||i>a.right)&&f.setOutOfView(a,l)}else{var h=a.bottom-a.top;a.progress=(f.instance.scroll.y-(a.top-f.windowHeight))/(h+f.windowHeight),(g<a.top||e>a.bottom)&&f.setOutOfView(a,l)}}),this.hasScrollTicking=!1}},{key:"setInView",value:function(a,b){this.els[b].inView=!0,a.el.classList.add(a.class),this.currentElements[b]=a,a.call&&this.hasCallEventSet&&(this.dispatchCall(a,"enter"),a.repeat||(this.els[b].call=!1))}},{key:"setOutOfView",value:function(a,b){var c=this;this.els[b].inView=!1,Object.keys(this.currentElements).forEach(function(a){a===b&&delete c.currentElements[a]}),a.call&&this.hasCallEventSet&&this.dispatchCall(a,"exit"),a.repeat&&a.el.classList.remove(a.class)}},{key:"dispatchCall",value:function(a,b){this.callWay=b,this.callValue=a.call.split(",").map(function(a){return a.trim()}),this.callObj=a,1==this.callValue.length&&(this.callValue=this.callValue[0]);var c=new Event(this.namespace+"call");this.el.dispatchEvent(c)}},{key:"dispatchScroll",value:function(){var a=new Event(this.namespace+"scroll");this.el.dispatchEvent(a)}},{key:"setEvents",value:function(a,b){this.listeners[a]||(this.listeners[a]=[]);var c=this.listeners[a];c.push(b),1===c.length&&this.el.addEventListener(this.namespace+a,this.checkEvent,!1),"call"===a&&(this.hasCallEventSet=!0,this.detectElements(!0))}},{key:"unsetEvents",value:function(a,b){if(this.listeners[a]){var c=this.listeners[a],d=c.indexOf(b);0>d||(c.splice(d,1),0===c.index&&this.el.removeEventListener(this.namespace+a,this.checkEvent,!1))}}},{key:"checkEvent",value:function(a){var b=this,c=a.type.replace(this.namespace,""),d=this.listeners[c];d&&0!==d.length&&d.forEach(function(a){return"scroll"===c?a(b.instance):"call"===c?a(b.callValue,b.callWay,b.callObj):a()})}},{key:"startScroll",value:function(){}},{key:"stopScroll",value:function(){}},{key:"setScroll",value:function(){this.instance.scroll={x:0,y:0}}},{key:"destroy",value:function(){var a=this;window.removeEventListener("resize",this.checkResize,!1),Object.keys(this.listeners).forEach(function(b){a.el.removeEventListener(a.namespace+b,a.checkEvent,!1)}),this.listeners={},this.scrollToEls.forEach(function(b){b.removeEventListener("click",a.setScrollTo,!1)}),this.html.classList.remove(this.initClass)}}]),a}(),b="undefined"==typeof globalThis?"undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof self?{}:self:global:window:globalThis,g=e(function(a){a.exports={polyfill:function(){function b(a,b){this.scrollLeft=a,this.scrollTop=b}function g(a){if(null===a||"object"!=typeof a||void 0===a.behavior||"auto"===a.behavior||"instant"===a.behavior)return!0;if("object"==typeof a&&"smooth"===a.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+a.behavior+" is not a valid value for enumeration ScrollBehavior.")}function a(a,b){return"Y"===b?a.clientHeight+n<a.scrollHeight:"X"===b?a.clientWidth+n<a.scrollWidth:void 0}function c(a,b){var c=k.getComputedStyle(a,null)["overflow"+b];return"auto"===c||"scroll"===c}function h(b){var d=a(b,"Y")&&c(b,"Y"),e=a(b,"X")&&c(b,"X");return d||e}function d(a){for(;a!==l.body&&!1===h(a);)a=a.parentNode||a.host;return a}function j(a){var b,c,d,e,f=(q()-a.startTime)/468;e=f=1<f?1:f,b=.5*(1-Math.cos(Math.PI*e)),c=a.startX+(a.x-a.startX)*b,d=a.startY+(a.y-a.startY)*b,a.method.call(a.scrollable,c,d),c===a.x&&d===a.y||k.requestAnimationFrame(j.bind(k,a))}function f(e,f,g){var i,m,n,o,r=q();e===l.body?(i=k,m=k.scrollX||k.pageXOffset,n=k.scrollY||k.pageYOffset,o=p.scroll):(i=e,m=e.scrollLeft,n=e.scrollTop,o=b),j({scrollable:i,method:o,startTime:r,startX:m,startY:n,x:f,y:g})}var k=window,l=document;if(!("scrollBehavior"in l.documentElement.style)||!0===k.__forceSmoothScrollPolyfill__){var e,m=k.HTMLElement||k.Element,p={scroll:k.scroll||k.scrollTo,scrollBy:k.scrollBy,elementScroll:m.prototype.scroll||b,scrollIntoView:m.prototype.scrollIntoView},q=k.performance&&k.performance.now?k.performance.now.bind(k.performance):Date.now,n=(e=k.navigator.userAgent,new RegExp("MSIE |Trident/|Edge/").test(e)?1:0);k.scroll=k.scrollTo=function(){void 0!==arguments[0]&&(!0===g(arguments[0])?p.scroll.call(k,void 0===arguments[0].left?"object"==typeof arguments[0]?k.scrollX||k.pageXOffset:arguments[0]:arguments[0].left,void 0===arguments[0].top?void 0===arguments[1]?k.scrollY||k.pageYOffset:arguments[1]:arguments[0].top):f.call(k,l.body,void 0===arguments[0].left?k.scrollX||k.pageXOffset:~~arguments[0].left,void 0===arguments[0].top?k.scrollY||k.pageYOffset:~~arguments[0].top))},k.scrollBy=function(){void 0!==arguments[0]&&(g(arguments[0])?p.scrollBy.call(k,void 0===arguments[0].left?"object"==typeof arguments[0]?0:arguments[0]:arguments[0].left,void 0===arguments[0].top?void 0===arguments[1]?0:arguments[1]:arguments[0].top):f.call(k,l.body,~~arguments[0].left+(k.scrollX||k.pageXOffset),~~arguments[0].top+(k.scrollY||k.pageYOffset)))},m.prototype.scroll=m.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==g(arguments[0])){var a=arguments[0].left,b=arguments[0].top;f.call(this,this,void 0===a?this.scrollLeft:~~a,void 0===b?this.scrollTop:~~b)}else{if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");p.elementScroll.call(this,void 0===arguments[0].left?"object"==typeof arguments[0]?this.scrollLeft:~~arguments[0]:~~arguments[0].left,void 0===arguments[0].top?void 0===arguments[1]?this.scrollTop:~~arguments[1]:~~arguments[0].top)}},m.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0===g(arguments[0])?p.elementScroll.call(this,void 0===arguments[0].left?~~arguments[0]+this.scrollLeft:~~arguments[0].left+this.scrollLeft,void 0===arguments[0].top?~~arguments[1]+this.scrollTop:~~arguments[0].top+this.scrollTop):this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}))},m.prototype.scrollIntoView=function(){if(!0!==g(arguments[0])){var a=d(this),b=a.getBoundingClientRect(),c=this.getBoundingClientRect();a===l.body?k.scrollBy({left:c.left,top:c.top,behavior:"smooth"}):(f.call(this,a,a.scrollLeft+c.left-b.left,a.scrollTop+c.top-b.top),"fixed"!==k.getComputedStyle(a).position&&k.scrollBy({left:b.left,top:b.top,behavior:"smooth"}))}else p.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}}}}),x=(g.polyfill,function(a){function b(){var a,d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return P(this,b),(a=c.call(this,d)).resetNativeScroll&&(history.scrollRestoration&&(history.scrollRestoration="manual"),window.scrollTo(0,0)),window.addEventListener("scroll",a.checkScroll,!1),void 0===window.smoothscrollPolyfill&&(window.smoothscrollPolyfill=g,window.smoothscrollPolyfill.polyfill()),a}o(b,a);var c=h(b);return t(b,[{key:"init",value:function(){this.instance.scroll.y=window.pageYOffset,this.addElements(),this.detectElements(),d(r(b.prototype),"init",this).call(this)}},{key:"checkScroll",value:function(){var a=this;d(r(b.prototype),"checkScroll",this).call(this),this.getDirection&&this.addDirection(),this.getSpeed&&(this.addSpeed(),this.speedTs=Date.now()),this.instance.scroll.y=window.pageYOffset,Object.entries(this.els).length&&(this.hasScrollTicking||(requestAnimationFrame(function(){a.detectElements()}),this.hasScrollTicking=!0))}},{key:"addDirection",value:function(){window.pageYOffset>this.instance.scroll.y?"down"!==this.instance.direction&&(this.instance.direction="down"):window.pageYOffset<this.instance.scroll.y&&"up"!==this.instance.direction&&(this.instance.direction="up")}},{key:"addSpeed",value:function(){this.instance.speed=window.pageYOffset==this.instance.scroll.y?0:(window.pageYOffset-this.instance.scroll.y)/I(1,Date.now()-this.speedTs)}},{key:"resize",value:function(){Object.entries(this.els).length&&(this.windowHeight=window.innerHeight,this.updateElements())}},{key:"addElements",value:function(){var b=this;this.els={},this.el.querySelectorAll("[data-"+this.name+"]").forEach(function(g,e){g.getBoundingClientRect();var i,j,k,q=g.dataset[b.name+"Class"]||b.class,r="string"==typeof g.dataset[b.name+"Id"]?g.dataset[b.name+"Id"]:e,l="string"==typeof g.dataset[b.name+"Offset"]?g.dataset[b.name+"Offset"].split(","):b.offset,a=g.dataset[b.name+"Repeat"],t=g.dataset[b.name+"Call"],h=g.dataset[b.name+"Target"],d=(k=void 0===h?g:document.querySelector("".concat(h))).getBoundingClientRect();i=d.top+b.instance.scroll.y,j=d.left+b.instance.scroll.x;var u=i+k.offsetHeight,w=j+k.offsetWidth;a="false"!=a&&(null!=a||b.repeat);var p=b.getRelativeOffset(l),m={el:g,targetEl:k,id:r,class:q,top:i+=p[0],bottom:u-=p[1],left:j,right:w,offset:l,progress:0,repeat:a,inView:!1,call:t};b.els[r]=m,g.classList.contains(q)&&b.setInView(b.els[r],r)})}},{key:"updateElements",value:function(){var a=this;Object.entries(this.els).forEach(function(b){var c=aa(b,2),d=c[0],e=c[1],f=e.targetEl.getBoundingClientRect().top+a.instance.scroll.y,g=f+e.targetEl.offsetHeight,h=a.getRelativeOffset(e.offset);a.els[d].top=f+h[0],a.els[d].bottom=g-h[1]}),this.hasScrollTicking=!1}},{key:"getRelativeOffset",value:function(a){var b=[0,0];if(a)for(var c=0;c<a.length;c++)b[c]="string"==typeof a[c]?a[c].includes("%")?parseInt(a[c].replace("%","")*this.windowHeight/100):parseInt(a[c]):a[c];return b}},{key:"scrollTo",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},c=parseInt(b.offset)||0,d=!!b.callback&&b.callback;if("string"==typeof a){if("top"===a)a=this.html;else if("bottom"===a)a=this.html.offsetHeight-window.innerHeight;else if(!(a=document.querySelector(a)))return;}else if("number"==typeof a)a=parseInt(a);else if(!a||!a.tagName)return void console.warn("`target` parameter is not valid");c="number"==typeof a?a+c:a.getBoundingClientRect().top+c+this.instance.scroll.y;var e=function(){return parseInt(window.pageYOffset)===parseInt(c)};if(d){if(e())return void d();var f=function a(){e()&&(window.removeEventListener("scroll",a),d())};window.addEventListener("scroll",f)}window.scrollTo({top:c,behavior:"smooth"})}},{key:"update",value:function(){this.addElements(),this.detectElements()}},{key:"destroy",value:function(){d(r(b.prototype),"destroy",this).call(this),window.removeEventListener("scroll",this.checkScroll,!1)}}]),b}(y)),S=Object.getOwnPropertySymbols,k=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,E=function(){try{if(!Object.assign)return!1;var a=new String("abc");if(a[5]="de","5"===Object.getOwnPropertyNames(a)[0])return!1;for(var b={},c=0;10>c;c++)b["_"+String.fromCharCode(c)]=c;if("0123456789"!==Object.getOwnPropertyNames(b).map(function(a){return b[a]}).join(""))return!1;var d={};return["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t"].forEach(function(a){d[a]=a}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},d)).join("")}catch(a){return!1}}()?Object.assign:function(a){for(var b,c,d=v(a),e=1;e<arguments.length;e++){for(var f in b=Object(arguments[e]))k.call(b,f)&&(d[f]=b[f]);if(S){c=S(b);for(var g=0;g<c.length;g++)T.call(b,c[g])&&(d[c[g]]=b[c[g]])}}return d};w.prototype={on:function(a,b,c){var d=this.e||(this.e={});return(d[a]||(d[a]=[])).push({fn:b,ctx:c}),this},once:function(a,b,c){function d(){e.off(a,d),b.apply(c,arguments)}var e=this;return d._=b,this.on(a,d,c)},emit:function(a){for(var b=[].slice.call(arguments,1),c=((this.e||(this.e={}))[a]||[]).slice(),d=0,e=c.length;d<e;d++)c[d].fn.apply(c[d].ctx,b);return this},off:function(a,b){var c=this.e||(this.e={}),d=c[a],e=[];if(d&&b)for(var f=0,g=d.length;f<g;f++)d[f].fn!==b&&d[f].fn._!==b&&e.push(d[f]);return e.length?c[a]=e:delete c[a],this}};var O=w,C=e(function(a,c){(function(){(null===c?this:c).Lethargy=function(){function a(a,b,c,d){this.stability=null==a?8:z(a),this.sensitivity=null==b?100:1+z(b),this.tolerance=null==c?1.1:1+z(c),this.delay=null==d?150:d,this.lastUpDeltas=function(){var a,b,c;for(c=[],a=1,b=2*this.stability;1<=b?a<=b:a>=b;1<=b?a++:a--)c.push(null);return c}.call(this),this.lastDownDeltas=function(){var a,b,c;for(c=[],a=1,b=2*this.stability;1<=b?a<=b:a>=b;1<=b?a++:a--)c.push(null);return c}.call(this),this.deltasTimestamp=function(){var a,b,c;for(c=[],a=1,b=2*this.stability;1<=b?a<=b:a>=b;1<=b?a++:a--)c.push(null);return c}.call(this)}return a.prototype.check=function(a){var b;return null==(a=a.originalEvent||a).wheelDelta?null==a.deltaY?null==a.detail&&0!==a.detail||(b=-40*a.detail):b=-40*a.deltaY:b=a.wheelDelta,this.deltasTimestamp.push(Date.now()),this.deltasTimestamp.shift(),0<b?(this.lastUpDeltas.push(b),this.lastUpDeltas.shift(),this.isInertia(1)):(this.lastDownDeltas.push(b),this.lastDownDeltas.shift(),this.isInertia(-1))},a.prototype.isInertia=function(a){var b,c,d,f,g,h,j;return null===(b=-1===a?this.lastDownDeltas:this.lastUpDeltas)[0]?a:!(this.deltasTimestamp[2*this.stability-2]+this.delay>Date.now()&&b[0]===b[2*this.stability-1])&&(d=b.slice(0,this.stability),c=b.slice(this.stability,2*this.stability),j=d.reduce(function(a,b){return a+b}),g=c.reduce(function(a,b){return a+b}),h=j/d.length,f=g/c.length,z(h)<z(f*this.tolerance)&&this.sensitivity<z(f)&&a)},a.prototype.showLastUpDeltas=function(){return this.lastUpDeltas},a.prototype.showLastDownDeltas=function(){return this.lastDownDeltas},a}()}).call(b)}),L={hasWheelEvent:"onwheel"in document,hasMouseWheelEvent:"onmousewheel"in document,hasTouch:"ontouchstart"in window||window.TouchEvent||window.DocumentTouch&&document instanceof DocumentTouch,hasTouchWin:navigator.msMaxTouchPoints&&1<navigator.msMaxTouchPoints,hasPointer:!!window.navigator.msPointerEnabled,hasKeyDown:"onkeydown"in document,isFirefox:-1<navigator.userAgent.indexOf("Firefox")},M=Object.prototype.toString,j=Object.prototype.hasOwnProperty,$=C.Lethargy,W="virtualscroll";B.prototype._notify=function(a){var b=this._event;b.x+=b.deltaX,b.y+=b.deltaY,this._emitter.emit(W,{x:b.x,y:b.y,deltaX:b.deltaX,deltaY:b.deltaY,originalEvent:a})},B.prototype._onWheel=function(a){var b=this.options;if(!this._lethargy||!1!==this._lethargy.check(a)){var c=this._event;c.deltaX=a.wheelDeltaX||-1*a.deltaX,c.deltaY=a.wheelDeltaY||-1*a.deltaY,L.isFirefox&&1==a.deltaMode&&(c.deltaX*=b.firefoxMultiplier,c.deltaY*=b.firefoxMultiplier),c.deltaX*=b.mouseMultiplier,c.deltaY*=b.mouseMultiplier,this._notify(a)}},B.prototype._onMouseWheel=function(a){if(!this.options.limitInertia||!1!==this._lethargy.check(a)){var b=this._event;b.deltaX=a.wheelDeltaX?a.wheelDeltaX:0,b.deltaY=a.wheelDeltaY?a.wheelDeltaY:a.wheelDelta,this._notify(a)}},B.prototype._onTouchStart=function(a){var b=a.targetTouches?a.targetTouches[0]:a;this.touchStartX=b.pageX,this.touchStartY=b.pageY},B.prototype._onTouchMove=function(a){var b=this.options;b.preventTouch&&!a.target.classList.contains(b.unpreventTouchClass)&&a.preventDefault();var c=this._event,d=a.targetTouches?a.targetTouches[0]:a;c.deltaX=(d.pageX-this.touchStartX)*b.touchMultiplier,c.deltaY=(d.pageY-this.touchStartY)*b.touchMultiplier,this.touchStartX=d.pageX,this.touchStartY=d.pageY,this._notify(a)},B.prototype._onKeyDown=function(a){var b=this._event;b.deltaX=b.deltaY=0;var c=window.innerHeight-40;switch(a.keyCode){case 37:case 38:b.deltaY=this.options.keyStep;break;case 39:case 40:b.deltaY=-this.options.keyStep;break;case a.shiftKey:b.deltaY=c;break;case 32:b.deltaY=-c;break;default:return;}this._notify(a)},B.prototype._bind=function(){L.hasWheelEvent&&this.el.addEventListener("wheel",this._onWheel,this.listenerOptions),L.hasMouseWheelEvent&&this.el.addEventListener("mousewheel",this._onMouseWheel,this.listenerOptions),L.hasTouch&&this.options.useTouch&&(this.el.addEventListener("touchstart",this._onTouchStart,this.listenerOptions),this.el.addEventListener("touchmove",this._onTouchMove,this.listenerOptions)),L.hasPointer&&L.hasTouchWin&&(this.bodyTouchAction=document.body.style.msTouchAction,document.body.style.msTouchAction="none",this.el.addEventListener("MSPointerDown",this._onTouchStart,!0),this.el.addEventListener("MSPointerMove",this._onTouchMove,!0)),L.hasKeyDown&&this.options.useKeyboard&&document.addEventListener("keydown",this._onKeyDown)},B.prototype._unbind=function(){L.hasWheelEvent&&this.el.removeEventListener("wheel",this._onWheel),L.hasMouseWheelEvent&&this.el.removeEventListener("mousewheel",this._onMouseWheel),L.hasTouch&&(this.el.removeEventListener("touchstart",this._onTouchStart),this.el.removeEventListener("touchmove",this._onTouchMove)),L.hasPointer&&L.hasTouchWin&&(document.body.style.msTouchAction=this.bodyTouchAction,this.el.removeEventListener("MSPointerDown",this._onTouchStart,!0),this.el.removeEventListener("MSPointerMove",this._onTouchMove,!0)),L.hasKeyDown&&this.options.useKeyboard&&document.removeEventListener("keydown",this._onKeyDown)},B.prototype.on=function(a,b){this._emitter.on(W,a,b);var c=this._emitter.e;c&&c[W]&&1===c[W].length&&this._bind()},B.prototype.off=function(a,b){this._emitter.off(W,a,b);var c=this._emitter.e;(!c[W]||0>=c[W].length)&&this._unbind()},B.prototype.reset=function(){var a=this._event;a.x=0,a.y=0},B.prototype.destroy=function(){this._emitter.off(),this._unbind()};var H="function"==typeof Float32Array,N=function(a,b,c,d){function e(b){for(var d=0,e=1;10!=e&&f[e]<=b;++e)d+=.1;--e;var g=d+.1*((b-f[e])/(f[e+1]-f[e])),h=J(g,a,c);return .001<=h?function(a,b,c,d){for(var f,g=0;4>g;++g){if(f=J(b,c,d),0===f)return b;b-=(G(b,c,d)-a)/f}return b}(b,g,a,c):0===h?g:function(a,b,c,d,f){var g,h,j=0;do 0<(g=G(h=b+(c-b)/2,d,f)-a)?c=h:b=h;while(1e-7<z(g)&&10>++j);return h}(b,d,d+.1,a,c)}if(!(0<=a&&1>=a&&0<=c&&1>=c))throw new Error("bezier x values must be in [0, 1] range");if(a===b&&c===d)return Q;for(var f=H?new Float32Array(11):Array(11),g=0;11>g;++g)f[g]=G(.1*g,a,c);return function(a){return 0===a?0:1===a?1:G(e(a),b,d)}},_=9,ba=function(a){function b(){var a,d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return P(this,b),history.scrollRestoration&&(history.scrollRestoration="manual"),window.scrollTo(0,0),(a=c.call(this,d)).inertia&&(a.lerp=.1*a.inertia),a.isScrolling=!1,a.isDraggingScrollbar=!1,a.isTicking=!1,a.hasScrollTicking=!1,a.parallaxElements={},a.stop=!1,a.scrollbarContainer=d.scrollbarContainer,a.checkKey=a.checkKey.bind(Y(a)),window.addEventListener("keydown",a.checkKey,!1),a}o(b,a);var c=h(b);return t(b,[{key:"init",value:function(){var a=this;this.html.classList.add(this.smoothClass),this.html.setAttribute("data-".concat(this.name,"-direction"),this.direction),this.instance=i({delta:{x:this.initPosition.x,y:this.initPosition.y},scroll:{x:this.initPosition.x,y:this.initPosition.y}},this.instance),this.vs=new B({el:this.scrollFromAnywhere?document:this.el,mouseMultiplier:-1<navigator.platform.indexOf("Win")?1:.4,firefoxMultiplier:this.firefoxMultiplier,touchMultiplier:this.touchMultiplier,useKeyboard:!1,passive:!0}),this.vs.on(function(b){a.stop||a.isDraggingScrollbar||requestAnimationFrame(function(){a.updateDelta(b),a.isScrolling||a.startScrolling()})}),this.setScrollLimit(),this.initScrollBar(),this.addSections(),this.addElements(),this.checkScroll(!0),this.transformElements(!0,!0),d(r(b.prototype),"init",this).call(this)}},{key:"setScrollLimit",value:function(){if(this.instance.limit.y=this.el.offsetHeight-this.windowHeight,"horizontal"===this.direction){for(var a=0,b=this.el.children,c=0;c<b.length;c++)a+=b[c].offsetWidth;this.instance.limit.x=a-this.windowWidth}}},{key:"startScrolling",value:function(){this.startScrollTs=Date.now(),this.isScrolling=!0,this.checkScroll(),this.html.classList.add(this.scrollingClass)}},{key:"stopScrolling",value:function(){cancelAnimationFrame(this.checkScrollRaf),this.scrollToRaf&&(cancelAnimationFrame(this.scrollToRaf),this.scrollToRaf=null),this.isScrolling=!1,this.instance.scroll.y=Math.round(this.instance.scroll.y),this.html.classList.remove(this.scrollingClass)}},{key:"checkKey",value:function(a){var b=this;if(this.stop)a.keyCode==_&&requestAnimationFrame(function(){b.html.scrollTop=0,document.body.scrollTop=0,b.html.scrollLeft=0,document.body.scrollLeft=0});else{switch(a.keyCode){case _:requestAnimationFrame(function(){b.html.scrollTop=0,document.body.scrollTop=0,b.html.scrollLeft=0,document.body.scrollLeft=0,b.scrollTo(document.activeElement,{offset:-window.innerHeight/2})});break;case 38:this.instance.delta[this.directionAxis]-=240;break;case 40:this.instance.delta[this.directionAxis]+=240;break;case 33:this.instance.delta[this.directionAxis]-=window.innerHeight;break;case 34:this.instance.delta[this.directionAxis]+=window.innerHeight;break;case 36:this.instance.delta[this.directionAxis]-=this.instance.limit[this.directionAxis];break;case 35:this.instance.delta[this.directionAxis]+=this.instance.limit[this.directionAxis];break;case 32:document.activeElement instanceof HTMLInputElement||document.activeElement instanceof HTMLTextAreaElement||(a.shiftKey?this.instance.delta[this.directionAxis]-=window.innerHeight:this.instance.delta[this.directionAxis]+=window.innerHeight);break;default:return;}0>this.instance.delta[this.directionAxis]&&(this.instance.delta[this.directionAxis]=0),this.instance.delta[this.directionAxis]>this.instance.limit[this.directionAxis]&&(this.instance.delta[this.directionAxis]=this.instance.limit[this.directionAxis]),this.stopScrolling(),this.isScrolling=!0,this.checkScroll(),this.html.classList.add(this.scrollingClass)}}},{key:"checkScroll",value:function(){var a=this,c=0<arguments.length&&void 0!==arguments[0]&&arguments[0];if(c||this.isScrolling||this.isDraggingScrollbar){this.hasScrollTicking||(this.checkScrollRaf=requestAnimationFrame(function(){return a.checkScroll()}),this.hasScrollTicking=!0),this.updateScroll();var e=z(this.instance.delta[this.directionAxis]-this.instance.scroll[this.directionAxis]),f=Date.now()-this.startScrollTs;if(!this.animatingScroll&&100<f&&(.5>e&&0!=this.instance.delta[this.directionAxis]||.5>e&&0==this.instance.delta[this.directionAxis])&&this.stopScrolling(),Object.entries(this.sections).forEach(function(b){var d=aa(b,2),e=(d[0],d[1]);e.persistent||a.instance.scroll[a.directionAxis]>e.offset[a.directionAxis]&&a.instance.scroll[a.directionAxis]<e.limit[a.directionAxis]?("horizontal"===a.direction?a.transform(e.el,-a.instance.scroll[a.directionAxis],0):a.transform(e.el,0,-a.instance.scroll[a.directionAxis]),e.inView||(e.inView=!0,e.el.style.opacity=1,e.el.style.pointerEvents="all",e.el.setAttribute("data-".concat(a.name,"-section-inview"),""))):((e.inView||c)&&(e.inView=!1,e.el.style.opacity=0,e.el.style.pointerEvents="none",e.el.removeAttribute("data-".concat(a.name,"-section-inview"))),a.transform(e.el,0,0))}),this.getDirection&&this.addDirection(),this.getSpeed&&(this.addSpeed(),this.speedTs=Date.now()),this.detectElements(),this.transformElements(),this.hasScrollbar){var g=this.instance.scroll[this.directionAxis]/this.instance.limit[this.directionAxis]*this.scrollBarLimit[this.directionAxis];"horizontal"===this.direction?this.transform(this.scrollbarThumb,g,0):this.transform(this.scrollbarThumb,0,g)}d(r(b.prototype),"checkScroll",this).call(this),this.hasScrollTicking=!1}}},{key:"resize",value:function(){this.windowHeight=window.innerHeight,this.windowWidth=window.innerWidth,this.checkContext(),this.windowMiddle={x:this.windowWidth/2,y:this.windowHeight/2},this.update()}},{key:"updateDelta",value:function(a){var b,c=this[this.context]&&this[this.context].gestureDirection?this[this.context].gestureDirection:this.gestureDirection;b="both"===c?a.deltaX+a.deltaY:"vertical"===c?a.deltaY:"horizontal"===c?a.deltaX:a.deltaY,this.instance.delta[this.directionAxis]-=b*this.multiplier,0>this.instance.delta[this.directionAxis]&&(this.instance.delta[this.directionAxis]=0),this.instance.delta[this.directionAxis]>this.instance.limit[this.directionAxis]&&(this.instance.delta[this.directionAxis]=this.instance.limit[this.directionAxis])}},{key:"updateScroll",value:function(){this.isScrolling||this.isDraggingScrollbar?this.instance.scroll[this.directionAxis]=D(this.instance.scroll[this.directionAxis],this.instance.delta[this.directionAxis],this.lerp):this.instance.scroll[this.directionAxis]>this.instance.limit[this.directionAxis]?this.setScroll(this.instance.scroll[this.directionAxis],this.instance.limit[this.directionAxis]):0>this.instance.scroll.y?this.setScroll(this.instance.scroll[this.directionAxis],0):this.setScroll(this.instance.scroll[this.directionAxis],this.instance.delta[this.directionAxis])}},{key:"addDirection",value:function(){this.instance.delta.y>this.instance.scroll.y?"down"!==this.instance.direction&&(this.instance.direction="down"):this.instance.delta.y<this.instance.scroll.y&&"up"!==this.instance.direction&&(this.instance.direction="up"),this.instance.delta.x>this.instance.scroll.x?"right"!==this.instance.direction&&(this.instance.direction="right"):this.instance.delta.x<this.instance.scroll.x&&"left"!==this.instance.direction&&(this.instance.direction="left")}},{key:"addSpeed",value:function(){this.instance.speed=this.instance.delta[this.directionAxis]==this.instance.scroll[this.directionAxis]?0:(this.instance.delta[this.directionAxis]-this.instance.scroll[this.directionAxis])/I(1,Date.now()-this.speedTs)}},{key:"initScrollBar",value:function(){if(this.scrollbar=document.createElement("span"),this.scrollbarThumb=document.createElement("span"),this.scrollbar.classList.add("".concat(this.scrollbarClass)),this.scrollbarThumb.classList.add("".concat(this.scrollbarClass,"_thumb")),this.scrollbar.append(this.scrollbarThumb),this.scrollbarContainer?this.scrollbarContainer.append(this.scrollbar):document.body.append(this.scrollbar),this.getScrollBar=this.getScrollBar.bind(this),this.releaseScrollBar=this.releaseScrollBar.bind(this),this.moveScrollBar=this.moveScrollBar.bind(this),this.scrollbarThumb.addEventListener("mousedown",this.getScrollBar),window.addEventListener("mouseup",this.releaseScrollBar),window.addEventListener("mousemove",this.moveScrollBar),this.hasScrollbar=!1,"horizontal"==this.direction){if(this.instance.limit.x+this.windowWidth<=this.windowWidth)return;}else if(this.instance.limit.y+this.windowHeight<=this.windowHeight)return;this.hasScrollbar=!0,this.scrollbarBCR=this.scrollbar.getBoundingClientRect(),this.scrollbarHeight=this.scrollbarBCR.height,this.scrollbarWidth=this.scrollbarBCR.width,"horizontal"===this.direction?this.scrollbarThumb.style.width="".concat(this.scrollbarWidth*this.scrollbarWidth/(this.instance.limit.x+this.scrollbarWidth),"px"):this.scrollbarThumb.style.height="".concat(this.scrollbarHeight*this.scrollbarHeight/(this.instance.limit.y+this.scrollbarHeight),"px"),this.scrollbarThumbBCR=this.scrollbarThumb.getBoundingClientRect(),this.scrollBarLimit={x:this.scrollbarWidth-this.scrollbarThumbBCR.width,y:this.scrollbarHeight-this.scrollbarThumbBCR.height}}},{key:"reinitScrollBar",value:function(){if(this.hasScrollbar=!1,"horizontal"==this.direction){if(this.instance.limit.x+this.windowWidth<=this.windowWidth)return;}else if(this.instance.limit.y+this.windowHeight<=this.windowHeight)return;this.hasScrollbar=!0,this.scrollbarBCR=this.scrollbar.getBoundingClientRect(),this.scrollbarHeight=this.scrollbarBCR.height,this.scrollbarWidth=this.scrollbarBCR.width,"horizontal"===this.direction?this.scrollbarThumb.style.width="".concat(this.scrollbarWidth*this.scrollbarWidth/(this.instance.limit.x+this.scrollbarWidth),"px"):this.scrollbarThumb.style.height="".concat(this.scrollbarHeight*this.scrollbarHeight/(this.instance.limit.y+this.scrollbarHeight),"px"),this.scrollbarThumbBCR=this.scrollbarThumb.getBoundingClientRect(),this.scrollBarLimit={x:this.scrollbarWidth-this.scrollbarThumbBCR.width,y:this.scrollbarHeight-this.scrollbarThumbBCR.height}}},{key:"destroyScrollBar",value:function(){this.scrollbarThumb.removeEventListener("mousedown",this.getScrollBar),window.removeEventListener("mouseup",this.releaseScrollBar),window.removeEventListener("mousemove",this.moveScrollBar),this.scrollbar.remove()}},{key:"getScrollBar",value:function(){this.isDraggingScrollbar=!0,this.checkScroll(),this.html.classList.remove(this.scrollingClass),this.html.classList.add(this.draggingClass)}},{key:"releaseScrollBar",value:function(){this.isDraggingScrollbar=!1,this.html.classList.add(this.scrollingClass),this.html.classList.remove(this.draggingClass)}},{key:"moveScrollBar",value:function(a){var b=this;this.isDraggingScrollbar&&requestAnimationFrame(function(){var c=100*(a.clientX-b.scrollbarBCR.left)/b.scrollbarWidth*b.instance.limit.x/100,d=100*(a.clientY-b.scrollbarBCR.top)/b.scrollbarHeight*b.instance.limit.y/100;0<d&&d<b.instance.limit.y&&(b.instance.delta.y=d),0<c&&c<b.instance.limit.x&&(b.instance.delta.x=c)})}},{key:"addElements",value:function(){var f=this;this.els={},this.parallaxElements={},this.el.querySelectorAll("[data-".concat(this.name,"]")).forEach(function(j,e){var i,t,z,B=q(j),r=Object.entries(f.sections).map(function(a){var b=aa(a,2);return b[0],b[1]}).find(function(a){return B.includes(a.el)}),l=j.dataset[f.name+"Class"]||f.class,a="string"==typeof j.dataset[f.name+"Id"]?j.dataset[f.name+"Id"]:"el"+e,c=j.dataset[f.name+"Repeat"],G=j.dataset[f.name+"Call"],d=j.dataset[f.name+"Position"],u=j.dataset[f.name+"Delay"],p=j.dataset[f.name+"Direction"],m="string"==typeof j.dataset[f.name+"Sticky"],v=!!j.dataset[f.name+"Speed"]&&parseFloat(j.dataset[f.name+"Speed"])/10,y="string"==typeof j.dataset[f.name+"Offset"]?j.dataset[f.name+"Offset"].split(","):f.offset,b=j.dataset[f.name+"Target"],g=(z=void 0===b?j:document.querySelector("".concat(b))).getBoundingClientRect();null===r||r.inView?(i=g.top+f.instance.scroll.y-F(z).y,t=g.left+f.instance.scroll.x-F(z).x):(i=g.top-F(r.el).y-F(z).y,t=g.left-F(r.el).x-F(z).x);var w=i+z.offsetHeight,H=t+z.offsetWidth,I={x:(H-t)/2+t,y:(w-i)/2+i};if(m){var J=j.getBoundingClientRect(),K=J.top,E=J.left,A={x:E-t,y:K-i};i+=window.innerHeight,t+=window.innerWidth,w=K+z.offsetHeight-j.offsetHeight-A[f.directionAxis],I={x:((H=E+z.offsetWidth-j.offsetWidth-A[f.directionAxis])-t)/2+t,y:(w-i)/2+i}}c="false"!=c&&(null!=c||f.repeat);var M=[0,0];if(y)if("horizontal"===f.direction){for(var D=0;D<y.length;D++)M[D]="string"==typeof y[D]?y[D].includes("%")?parseInt(y[D].replace("%","")*f.windowWidth/100):parseInt(y[D]):y[D];t+=M[0],H-=M[1]}else{for(D=0;D<y.length;D++)M[D]="string"==typeof y[D]?y[D].includes("%")?parseInt(y[D].replace("%","")*f.windowHeight/100):parseInt(y[D]):y[D];i+=M[0],w-=M[1]}var N={el:j,id:a,class:l,section:r,top:i,middle:I,bottom:w,left:t,right:H,offset:y,progress:0,repeat:c,inView:!1,call:G,speed:v,delay:u,position:d,target:z,direction:p,sticky:m};f.els[a]=N,j.classList.contains(l)&&f.setInView(f.els[a],a),(!1!==v||m)&&(f.parallaxElements[a]=N)})}},{key:"addSections",value:function(){var a=this;this.sections={};var b=this.el.querySelectorAll("[data-".concat(this.name,"-section]"));0===b.length&&(b=[this.el]),b.forEach(function(b,c){var d="string"==typeof b.dataset[a.name+"Id"]?b.dataset[a.name+"Id"]:"section"+c,e=b.getBoundingClientRect(),f={x:e.left-1.5*window.innerWidth-F(b).x,y:e.top-1.5*window.innerHeight-F(b).y},g={x:f.x+e.width+2*window.innerWidth,y:f.y+e.height+2*window.innerHeight},h="string"==typeof b.dataset[a.name+"Persistent"];b.setAttribute("data-scroll-section-id",d);a.sections[d]={el:b,offset:f,limit:g,inView:!1,persistent:h,id:d}})}},{key:"transform",value:function(a,b,c,d){var e;if(d){var f=F(a),g=D(f.x,b,d),h=D(f.y,c,d);e="matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,".concat(g,",").concat(h,",0,1)")}else e="matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,".concat(b,",").concat(c,",0,1)");a.style.webkitTransform=e,a.style.msTransform=e,a.style.transform=e}},{key:"transformElements",value:function(b){var d=this,e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],c=this.instance.scroll.x+this.windowWidth,f=this.instance.scroll.y+this.windowHeight,g={x:this.instance.scroll.x+this.windowMiddle.x,y:this.instance.scroll.y+this.windowMiddle.y};Object.entries(this.parallaxElements).forEach(function(h){var i=aa(h,2),j=(i[0],i[1]),a=!1;if(b&&(a=0),j.inView||e)switch(j.position){case"top":a=d.instance.scroll[d.directionAxis]*-j.speed;break;case"elementTop":a=(f-j.top)*-j.speed;break;case"bottom":a=(d.instance.limit[d.directionAxis]-f+d.windowHeight)*j.speed;break;case"left":a=d.instance.scroll[d.directionAxis]*-j.speed;break;case"elementLeft":a=(c-j.left)*-j.speed;break;case"right":a=(d.instance.limit[d.directionAxis]-c+d.windowHeight)*j.speed;break;default:a=(g[d.directionAxis]-j.middle[d.directionAxis])*-j.speed;}j.sticky&&(a=j.inView?"horizontal"===d.direction?d.instance.scroll.x-j.left+window.innerWidth:d.instance.scroll.y-j.top+window.innerHeight:"horizontal"===d.direction?d.instance.scroll.x<j.left-window.innerWidth&&d.instance.scroll.x<j.left-window.innerWidth/2?0:d.instance.scroll.x>j.right&&d.instance.scroll.x>j.right+100&&j.right-j.left+window.innerWidth:d.instance.scroll.y<j.top-window.innerHeight&&d.instance.scroll.y<j.top-window.innerHeight/2?0:d.instance.scroll.y>j.bottom&&d.instance.scroll.y>j.bottom+100&&j.bottom-j.top+window.innerHeight),!1!==a&&("horizontal"===j.direction||"horizontal"===d.direction&&"vertical"!==j.direction?d.transform(j.el,a,0,!b&&j.delay):d.transform(j.el,0,a,!b&&j.delay))})}},{key:"scrollTo",value:function(j){var k=this,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=parseInt(e.offset)||0,p=isNaN(parseInt(e.duration))?1e3:parseInt(e.duration),n=e.easing||[.25,0,.35,1],z=!!e.disableLerp,r=!!e.callback&&e.callback;if(n=N.apply(void 0,f(n)),"string"==typeof j){if("top"===j)j=0;else if("bottom"===j)j=this.instance.limit.y;else if("left"===j)j=0;else if("right"===j)j=this.instance.limit.x;else if(!(j=document.querySelector(j)))return;}else if("number"==typeof j)j=parseInt(j);else if(!j||!j.tagName)return void console.warn("`target` parameter is not valid");if("number"!=typeof j){var l=q(j).includes(this.el);if(!l)return;var a=j.getBoundingClientRect(),c=a.top,h=a.left,d=q(j),u=d.find(function(a){return Object.entries(k.sections).map(function(a){var b=aa(a,2);return b[0],b[1]}).find(function(b){return b.el==a})}),m=0;m=u?F(u)[this.directionAxis]:-this.instance.scroll[this.directionAxis],i="horizontal"===this.direction?h+i-m:c+i-m}else i=j+i;var A=parseFloat(this.instance.delta[this.directionAxis]),y=I(0,Math.min(i,this.instance.limit[this.directionAxis])),b=y-A,g=function(a){z?"horizontal"===k.direction?k.setScroll(A+b*a,k.instance.delta.y):k.setScroll(k.instance.delta.x,A+b*a):k.instance.delta[k.directionAxis]=A+b*a};this.animatingScroll=!0,this.stopScrolling(),this.startScrolling();var w=Date.now(),x=function a(){var b=(Date.now()-w)/p;1<b?(g(1),k.animatingScroll=!1,0==p&&k.update(),r&&r()):(k.scrollToRaf=requestAnimationFrame(a),g(n(b)))};x()}},{key:"update",value:function(){this.setScrollLimit(),this.addSections(),this.addElements(),this.detectElements(),this.updateScroll(),this.transformElements(!0),this.reinitScrollBar(),this.checkScroll(!0)}},{key:"startScroll",value:function(){this.stop=!1}},{key:"stopScroll",value:function(){this.stop=!0}},{key:"setScroll",value:function(a,b){this.instance=i(i({},this.instance),{},{scroll:{x:a,y:b},delta:{x:a,y:b},speed:0})}},{key:"destroy",value:function(){d(r(b.prototype),"destroy",this).call(this),this.stopScrolling(),this.html.classList.remove(this.smoothClass),this.vs.destroy(),this.destroyScrollBar(),window.removeEventListener("keydown",this.checkKey,!1)}}]),b}(y);return function(){function a(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};P(this,a),this.options=b,Object.assign(this,Z,b),this.smartphone=Z.smartphone,b.smartphone&&Object.assign(this.smartphone,b.smartphone),this.tablet=Z.tablet,b.tablet&&Object.assign(this.tablet,b.tablet),this.smooth||"horizontal"!=this.direction||console.warn("\uD83D\uDEA8 `smooth:false` & `horizontal` direction are not yet compatible"),this.tablet.smooth||"horizontal"!=this.tablet.direction||console.warn("\uD83D\uDEA8 `smooth:false` & `horizontal` direction are not yet compatible (tablet)"),this.smartphone.smooth||"horizontal"!=this.smartphone.direction||console.warn("\uD83D\uDEA8 `smooth:false` & `horizontal` direction are not yet compatible (smartphone)"),this.init()}return t(a,[{key:"init",value:function(){if(this.options.isMobile=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"MacIntel"===navigator.platform&&1<navigator.maxTouchPoints||window.innerWidth<this.tablet.breakpoint,this.options.isTablet=this.options.isMobile&&window.innerWidth>=this.tablet.breakpoint,this.scroll=this.smooth&&!this.options.isMobile||this.tablet.smooth&&this.options.isTablet||this.smartphone.smooth&&this.options.isMobile&&!this.options.isTablet?new ba(this.options):new x(this.options),this.scroll.init(),window.location.hash){var a=window.location.hash.slice(1,window.location.hash.length),b=document.getElementById(a);b&&this.scroll.scrollTo(b)}}},{key:"update",value:function(){this.scroll.update()}},{key:"start",value:function(){this.scroll.startScroll()}},{key:"stop",value:function(){this.scroll.stopScroll()}},{key:"scrollTo",value:function(a,b){this.scroll.scrollTo(a,b)}},{key:"setScroll",value:function(a,b){this.scroll.setScroll(a,b)}},{key:"on",value:function(a,b){this.scroll.setEvents(a,b)}},{key:"off",value:function(a,b){this.scroll.unsetEvents(a,b)}},{key:"destroy",value:function(){this.scroll.destroy()}}]),a}()});